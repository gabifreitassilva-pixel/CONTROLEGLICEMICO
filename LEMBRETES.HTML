<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GlicoGabi - Alertas</title>
    <style>
        :root { --primaria: #7e57ff; --laranja: #ff9800; }
        body { font-family: 'Segoe UI', sans-serif; background: #f0f0f0; margin: 0; padding: 0; }
        .header { background: var(--primaria); color: white; padding: 20px; text-align: center; }
        .container { padding: 15px; }
        .card { background: white; border-radius: 15px; padding: 15px; margin-bottom: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        .btn-add { background: var(--primaria); color: white; border: none; padding: 15px; border-radius: 12px; width: 100%; font-weight: bold; cursor: pointer; margin-bottom: 15px; }
        .dia-btn { border: 1px solid var(--primaria); padding: 5px 8px; border-radius: 5px; font-size: 10px; cursor: pointer; }
        .dia-btn.active { background: var(--primaria); color: white; }
    </style>
</head>
<body>
    <div class="header"><h1>Alertas</h1></div>
    <div class="container">
        <div class="card">
            <input type="text" id="tit" placeholder="Nome do Alerta (Ex: Insulina)" style="width: 100%; padding: 10px; margin-bottom: 10px; border-radius: 8px; border: 1px solid #ddd;">
            <input type="time" id="hor" style="width: 100%; padding: 10px; margin-bottom: 10px; border-radius: 8px; border: 1px solid #ddd;">
            <div style="font-size: 11px; margin-bottom: 10px; color: var(--primaria);">REPETIR NOS DIAS:</div>
            <div id="diasSemana" style="display: flex; gap: 5px; flex-wrap: wrap; margin-bottom: 15px;">
                <span class="dia-btn" onclick="this.classList.toggle('active')">Dom</span>
                <span class="dia-btn" onclick="this.classList.toggle('active')">Seg</span>
                <span class="dia-btn" onclick="this.classList.toggle('active')">Ter</span>
                <span class="dia-btn" onclick="this.classList.toggle('active')">Qua</span>
                <span class="dia-btn" onclick="this.classList.toggle('active')">Qui</span>
                <span class="dia-btn" onclick="this.classList.toggle('active')">Sex</span>
                <span class="dia-btn" onclick="this.classList.toggle('active')">Sab</span>
            </div>
            <button class="btn-add" onclick="salvar()">Salvar Alerta</button>
        </div>
        <div id="lista"></div>
    </div>

    <script>
        function salvar() {
            const tit = document.getElementById('tit').value;
            const hor = document.getElementById('hor').value;
            const dias = Array.from(document.querySelectorAll('.dia-btn.active')).map(d => d.innerText);
            if(!tit || !hor || dias.length === 0) return alert("Preencha tudo!");

            const lembretes = JSON.parse(localStorage.getItem('gabi_lembretes') || "[]");
            lembretes.push({ id: Date.now(), tit, hor, dias });
            localStorage.setItem('gabi_lembretes', JSON.stringify(lembretes));
            location.reload();
        }

        window.onload = function() {
            const lista = document.getElementById('lista');
            const lembretes = JSON.parse(localStorage.getItem('gabi_lembretes') || "[]");
            lista.innerHTML = lembretes.map(l => `
                <div class="card">
                    <div style="font-weight:bold; color:var(--primaria)">${l.tit} - ${l.hor}</div>
                    <div style="font-size:11px; color:#666">Dias: ${l.dias.join(', ')}</div>
                </div>
            `).join('');
        }
    </script>
</body>
</html>
